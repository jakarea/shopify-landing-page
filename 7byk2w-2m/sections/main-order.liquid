<div class="page-width page-content">
  <div class="max-w-3xl mx-auto py-16 px-4">
    {# Order Confirmation Header #}
    <div class="text-center mb-12">
      <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
      </div>
      <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">{{ 'customer.order.title' | t: name: order.name }}</h1>
      <p class="text-lg text-gray-600">Thank you for your purchase! Your order has been confirmed.</p>
    </div>

    {# Digital Downloads Section #}
    {% if order.attributes.digital_downloads_loaded != 'true' %}
      {% render 'digital-downloads-badge' %}
    {% endif %}

    {# Order Details #}
    <div class="bg-gray-50 rounded-2xl p-6 sm:p-8 mb-8">
      <h2 class="text-xl font-bold text-gray-900 mb-6">Order Details</h2>

      <div class="space-y-4">
        {% for line_item in order.line_items %}
          <div class="flex items-start gap-4 py-4 border-b border-gray-200 last:border-0">
            <div class="flex-1">
              <h3 class="font-semibold text-gray-900">{{ line_item.title }}</h3>
              {% if line_item.variant.title != 'Default Title' %}
                <p class="text-sm text-gray-500">{{ line_item.variant.title }}</p>
              {% endif %}
              <p class="text-sm text-gray-600">Quantity: {{ line_item.quantity }}</p>
            </div>
            <div class="text-right">
              <p class="font-semibold text-gray-900">{{ line_item.final_price | money }}</p>
            </div>
          </div>
        {% endfor %}
      </div>

      <div class="mt-6 pt-6 border-t border-gray-200">
        <div class="flex justify-between text-lg font-bold">
          <span>Total</span>
          <span>{{ order.total_price | money }}</span>
        </div>
      </div>
    </div>

    {# Order Info #}
    <div class="grid sm:grid-cols-2 gap-6 mb-8">
      <div class="bg-gray-50 rounded-2xl p-6">
        <h3 class="font-semibold text-gray-900 mb-3">Customer Information</h3>
        <div class="space-y-2 text-sm text-gray-600">
          <p>{{ order.customer.first_name }} {{ order.customer.last_name }}</p>
          <p>{{ order.customer.email }}</p>
        </div>
      </div>
      <div class="bg-gray-50 rounded-2xl p-6">
        <h3 class="font-semibold text-gray-900 mb-3">Shipping Address</h3>
        <div class="space-y-2 text-sm text-gray-600">
          {% if order.shipping_address %}
            <p>{{ order.shipping_address.name }}</p>
            <p>{{ order.shipping_address.address1 }}</p>
            {% if order.shipping_address.address2 %}
              <p>{{ order.shipping_address.address2 }}</p>
            {% endif %}
            <p>{{ order.shipping_address.city }}, {{ order.shipping_address.province }} {{ order.shipping_address.zip }}</p>
            <p>{{ order.shipping_address.country }}</p>
          {% else %}
            <p>Digital product - no shipping required</p>
          {% endif %}
        </div>
      </div>
    </div>

    {# Download Instructions #}
    <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 sm:p-8 mb-8">
      <h3 class="text-xl font-bold text-gray-900 mb-4">ðŸ“¥ How to Download Your Files</h3>
      <ol class="space-y-3 text-gray-700">
        <li class="flex items-start gap-3">
          <span class="flex items-center justify-center w-6 h-6 rounded-full bg-purple-600 text-white text-sm font-bold flex-shrink-0">1</span>
          <span>Check your email for the download link sent to <strong>{{ order.customer.email }}</strong></span>
        </li>
        <li class="flex items-start gap-3">
          <span class="flex items-center justify-center w-6 h-6 rounded-full bg-purple-600 text-white text-sm font-bold flex-shrink-0">2</span>
          <span>Click the download button below or use the link in your email</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="flex items-center justify-center w-6 h-6 rounded-full bg-purple-600 text-white text-sm font-bold flex-shrink-0">3</span>
          <span>Save the PDF files to your device</span>
        </li>
      </ol>

      {# Digital Downloads App Integration #}
      <div class="mt-6" id="digital-downloads-container">
        <p class="text-sm text-gray-600 mb-3">Your download links will appear below. If you don't see them, please check your email.</p>
      </div>
    </div>

    {# Support #}
    <div class="text-center">
      <p class="text-gray-600 mb-4">Need help? <a href="mailto:support@vintedtracker.com" class="text-purple-600 hover:text-purple-700 font-semibold">Contact Support</a></p>
      <a href="/" class="inline-flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-3 rounded-xl transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Back to Home
      </a>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Order Status",
  "settings": [],
  "presets": [
    {
      "name": "Order Status"
    }
  ]
}
{% endschema %}
